<!--
 * @Author: your name
 * @Date: 2022-02-10 18:10:15
 * @LastEditTime: 2022-02-10 19:05:56
 * @LastEditors: Please set LastEditors
 * @Description: 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
 * @FilePath: /HTML-/HTML5/storage.html
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HTML5基础 - 存储</title>
</head>
<body>
  <div id="box"></div>

  <!--
    cookie、locationStorage，sessionStorage的区别:
    1.大小不同: cookie限制为4k, locationStorage，sessionStorage为5M+。
    2.生命周期(存储时间): cookie若不设置失效时间的话，关闭浏览器窗口就会消失。
                       locationStorage为长久保存整个网站的数据，保存的数据没有过期时间，直到手动去除。
                       sessionStorage为临时保存同一窗口(或标签页)的数据，在关闭窗口或标签页之后将会删除这些数据。
    3.http请求: cookie每次http请求都会携带cookie信息，浪费带宽。localStorage和sessionStorage都保存在客户端，不与服务器进行交互通信。
  -->
  <script>
    const box = document.getElementById('box');

    /**
     * API: localStorage，sessionStorage，可使用的API都相同。
     * 保存数据：localStorage.setItem(key,value);
     * 读取数据：localStorage.getItem(key);
     * 删除单个数据：localStorage.removeItem(key);
     * 删除所有数据：localStorage.clear();
    */
    if(!typeof Storage) {
      console.log('您的浏览器不支持 web 存储。');
    } else {
      console.log('您的浏览器支持localStorage、sessionStorage 对象!');

      localStorage.webName = '刘可在复习web存储。';
      box.innerHTML = localStorage.webName;
      setTimeout(() => {
        localStorage.removeItem('webName');
        box.innerHTML = localStorage.webName;
      }, 2000);
    };
  </script>

</body>
</html>
